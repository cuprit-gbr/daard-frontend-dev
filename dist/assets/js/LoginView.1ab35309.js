(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoginView"],{"0291":function(e,t,n){"use strict";var o=n("268a"),r=n.n(o);r.a},"268a":function(e,t,n){},"2c23":function(e,t,n){},"3bea":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MhRouterView",{staticClass:"LoginView view hSpace hSpace--app",attrs:{isContentReady:e.isContentReady}},[n("div",{staticClass:"LoginView__inner view__inner"},[n("div",{staticClass:"LoginView__form"},[n("KnFormHeaderRow",{attrs:{title:"Login"}}),n("KnFormFieldRow",[n("div",{staticClass:"richText",staticStyle:{"grid-column":"span 12"}},[n("p",[e._v(" Before you can add a new record it's needed to login with your GeoServer Account at "),n("a",{attrs:{href:"https://geoserver.dainst.org/"}},[e._v("https://geoserver.dainst.org/")])]),n("p",[e._v(" If you do not have an account yet please follow the link to register. ")])])]),n("KnFormFieldRow",[n("div",{staticStyle:{"grid-column":"span 12",display:"flex","justify-content":"flex-end"}},[n("div",[n("br"),n("BaseButton",{staticClass:"font font--sizeLarge font--bold",attrs:{tag:"a",href:e.registerUrl,isOutlined:!0,isDisabled:!1}},[n("template",{slot:"before"}),n("template",{slot:"default"},[e._v("Register")])],2),n("BaseButton",{staticClass:"font font--sizeLarge font--bold",attrs:{tag:"a",href:e.loginUrl,isOutlined:!1,isDisabled:!1}},[n("template",{slot:"before"}),n("template",{slot:"default"},[e._v("Login")]),n("template",{slot:"after"},[n("MhIcon",{attrs:{type:"arrow-right"}})],1)],2),n("br"),n("br")],1)])])],1)])])},r=[],i=(n("5e50"),n("2f62")),a=n("33a5"),s=n("3ac1"),c=n("d54a"),l=n("cdd1"),u=n("4c52"),d=n("f3f3");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={name:"LoginView",components:{MhRouterView:s["a"],KnFormHeaderRow:c["a"],KnFormFieldRow:l["a"],BaseButton:u["a"],MhIcon:d["a"]},mixins:[a["a"]],directives:{},props:{},data:function(){return{isContentReady:!1,posts:void 0}},watch:{},computed:p(p({app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return e}},Object(i["b"])(["currentEnv","requestToken","accessToken"])),{},{locationHrefWithoutQuery:function(){var e=window.location,t=e.protocol+"//"+e.host+e.pathname+e.hash;return t},registerUrl:function(){var e=this.locationHrefWithoutQuery.replace("#","%23"),t=this._.get(this.currentEnv,"registerUrl","").replace("%redirect_uri%",e);return t},loginUrl:function(){var e=location.protocol+"//"+location.host,t=this._.get(this.currentEnv,"loginUrl","").replace("%redirect_uri%",e);return t}}),methods:{fetchAuthToken:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.locationHrefWithoutQuery,o=window.location.search,r=new URLSearchParams(o),i=r.get("code");t&&(console.group(this.$options.name,"• fetchAuthToken()"),console.log("redirectUri:",n),console.log("queryString:",o),console.log("requestToken:",i),console.groupEnd()),this.$router.replace("/login/"),this.$store.commit("setRequestToken",i);fetch(this.currentEnv.tokenUrl,{body:new URLSearchParams({grant_type:"authorization_code",code:i,redirect_uri:n,client_id:this.currentEnv.tokenClientId}),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then((function(e){return e.json()})).then((function(t){var n=e._.get(t,"access_token");console.log("fetchAuthToken:",t),n&&(e.$store.commit("setAccessToken",n),e.$router.replace("/edit/"))}))}},mounted:function(){this.isContentReady=!0}},g=m,v=(n("0291"),n("2877")),w=Object(v["a"])(g,o,r,!1,null,null,null);t["default"]=w.exports},"474b":function(e,t,n){},7551:function(e,t,n){"use strict";var o=n("2c23"),r=n.n(o);r.a},cdd1:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"KnFormFieldRow contentModule hSpace hSpace--formRow",class:e.elmClasses,attrs:{name:"KnFormFieldRow"}},[n("div",{staticClass:"KnFormFieldRow__inner contentModule__inner"},[e._t("default")],2)])},r=[],i={name:"KnFormFieldRow",components:{},mixins:[],props:{},data:function(){return{}},watch:{someVar:{handler:function(e,t){},immediate:!0,deep:!0}},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return e}},methods:{myFunction:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(console.groupCollapsed(this.$options.name,"• myFunction()"),console.groupEnd()),alert("myFunction")}},created:function(){},mounted:function(){},destroyed:function(){}},a=i,s=(n("7551"),n("2877")),c=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=c.exports},d54a:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"KnHeaderRow contentModule hSpace hSpace--formRow",class:e.elmClasses,attrs:{name:"KnHeaderRow"}},[n("div",{staticClass:"KnHeaderRow__inner contentModule__inner"},[n("div",[n("h2",{staticClass:"KnHeaderRow__title font font--medium font--sizeBig",domProps:{innerHTML:e._s(e.title)}}),n("h3",{staticClass:"KnHeaderRow__subTitle font font--regular font--sizeBig",domProps:{innerHTML:e._s(e.subTitle)}})]),e.isCloseable?n("a",{staticClass:"circleIcon color color--primary",attrs:{role:"button"},on:{click:e.onClickCloseBtn}},[n("MhIcon",{attrs:{type:"cross"}})],1):e._e()])])},r=[],i=(n("5e50"),n("f3f3")),a={name:"KnHeaderRow",components:{MhIcon:i["a"]},mixins:[],props:{title:{type:[String,Boolean],default:"The title",required:!1},subTitle:{type:[String,Boolean],default:"",required:!1},isCloseable:{type:[String,Boolean],default:!1,required:!1}},data:function(){return{}},watch:{someVar:{handler:function(e,t){},immediate:!0,deep:!0}},computed:{app:function(){return this.$root.$children[0]},elmClasses:function(){var e=[];return e}},methods:{onClickCloseBtn:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(console.groupCollapsed(this.$options.name,"• onClickCloseBtn()"),console.groupEnd()),alert("onClickCloseBtn")}},created:function(){},mounted:function(){},destroyed:function(){}},s=a,c=(n("fac7"),n("2877")),l=Object(c["a"])(s,o,r,!1,null,null,null);t["a"]=l.exports},fac7:function(e,t,n){"use strict";var o=n("474b"),r=n.n(o);r.a}}]);
//# sourceMappingURL=LoginView.1ab35309.js.map